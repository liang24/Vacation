@{
    ViewBag.Title = "添加用户";
}
<form id="form1" action="@Url.Action("Add")">
<div class="addinfo_con">
    <dl>
        <dt><i>*</i> 警号：</dt>
        <dd>
            <input type="text" name="UserName" class="info_put" datatype="*" nullmsg="请输入用户名！"
                ajaxurl="@Url.Action("CheckName")" />
        </dd>
    </dl>
    <dl>
        <dt><i>*</i> 密码：</dt>
        <dd>
            <input type="password" id="txtPassword" name="Password" class="info_put" datatype="*6-16"
                plugin="passwordStrength" nullmsg="请输入密码！" />
            <span class="Validform_checktip"></span>
            <div class="passwordStrength" style="margin-left: 100px;">
                <b>密码强度：</b> <span>弱</span><span>中</span><span class="last">强</span></div>
        </dd>
    </dl>
    <dl>
        <dt><i>*</i> 确认密码：</dt>
        <dd>
            <input type="password" id="txtConfirm" class="info_put" datatype="*6-16" recheck="Password"
                errormsg="两次输入的密码不一致！" nullmsg="请输入确认密码！" />
        </dd>
    </dl>
    <dl>
        <dt><i>*</i> 真实姓名：</dt>
        <dd>
            <input type="text" name="RealName" class="info_put" datatype="*" nullmsg="请输入真实姓名！" /></dd>
    </dl>
    <dl>
        <dt><i>*</i> 邮箱：</dt>
        <dd>
            <input type="text" name="Email" class="info_put" datatype="e" nullmsg="请输入邮箱！" /></dd>
    </dl>
    <dl>
        <dt><i>*</i> 手机号码：</dt>
        <dd>
            <input type="text" name="Phone" class="info_put" datatype="m" nullmsg="请输入手机号码！" /></dd>
    </dl>

     <dl><dt><i>*</i>性别：</dt>
            <dd>
                <label>
                    <input type="radio" name="sex" value="true"/>男</label>
                <label>
                    <input type="radio" name="sex" value="false"/>女</label>
            </dd>
     </dl>

    <dl class="input_an">
        <dt></dt>
        <dd>
            <a class="input_ok" href="#" id="btnAdd">新增</a><a class="close" href="#" id="btnClose">关闭</a>
        </dd>
    </dl>
</div>
</form>
@section Script
{
    <link href="/Scripts/validform/passwordStrength.css" rel="stylesheet" type="text/css" />
    <script src="/Scripts/validform/passwordStrength-min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $("#form1").Validform({
                tiptype: 4,
                ajaxPost: true,
                btnSubmit: "#btnAdd",
                usePlugin: {
                    passwordstrength: {
                        minLen: 6,
                        maxLen: 18
                    }
                },
                callback: function (data) {
                    if (data.IsSuccess) {
                        art.dialog.data("user_add", true);
                        art.dialog({ content: "操作成功，是否继续添加？", icon: "succeed", okVal: "继续", ok: function () {
                            $("#form1")[0].reset();
                        }, cancel: function () { art.dialog.close(); }
                        });
                    }
                    else {
                        art.dialog({ content: data.Message, icon: "error", ok: true });
                    }
                }
            });
            $("#btnClose").click(function () {
                art.dialog.close();
            });
        }); 
    </script>
}
